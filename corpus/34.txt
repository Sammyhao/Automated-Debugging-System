 your communities  Find centralized, trusted content and collaborate around the technologies you use most.  Connect and share knowledge within a single location that is structured and easy to search.  This function should read string from file and return it, but immediately after call to ReadFile program hits breakpoint in debug_heap.cpp file at line 985.  1 Answer 1  This is because your code writes beyond the end of buffer. You allocate like this:  But then you attempt to read bytes from the file. Your allocation should instead be:  Some other comments:  Your call to risks buffer overrun.  Since you code in C++, use and have that class manage buffers. You should do that for both and . That will allow you to avoid the leaks that your current code has. For instance, the failure return after leaks memory. And it avoids placing a burden on the calling code to deallocate the memory.  You also leak the file handle if your code takes the failure return after .  should be named , to use the correct English word.  There is no real reason to believe that the executable file is located in the current working directory.  581k4040 gold badges10031003 silver badges14201420 bronze badges  5  Regarding the final bullet point, I told you that at your last question but perhaps it did not sink in. The current directory is not always the directory where the executable is located. Very often it is a different directory.  He is also leaking handles, better wrap these handles with a class or unique pointer with custom deleter.  How I'm leaking handles? The handle to file is closed at the end of the function.  see, that is why destructors were invented. because people were leaking in C and they didn't know why. what happens if fails?  By clicking “Accept all cookies”, you agree Stack Exchange can store cookies on your device and disclose information in accordance with our Cookie Policy.  