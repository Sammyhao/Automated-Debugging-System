 your communities  Find centralized, trusted content and collaborate around the technologies you use most.  Connect and share knowledge within a single location that is structured and easy to search.  I have written a JAVA program which hardly takes 3-4 MB of memory but still somehow exceeds the 16 MB memory limit on the grader in which I submit the problems for judging.  I have an Integer 2D Array of size 2500*100 which occupies around 1 MB ,and an adjacency list with a maximum of 2500 nodes and 2499 edges (Tree) .  Why does it exceed the 16 MB memory limit? I know JAVA has some overhead but I still can't understand why it exceeds the limit. It would be of great help to me if someone could explain the reason as to why the code consumes so much memory.I am also doing a DFS which will consume some stack memory but there is no reason for it to exceed the 16 MB Limit.  what is the System.in values? N = sc.nextInt(); is unlimited so it can exceed 16mb easily depending on the input.  2 Answers 2  Have you entered ~2505 elements manually? I really don't envy you. I modified your example to more friendly view:  I set up JVM setting and ran it with different input parameters - everything what I got was. This exception doesn't have any relation to memory usage, heap memory I mean. You can set stack size by parameter but I think you need to refactor your dfs method.  What we can say about heap memory usage? Let's calculate :  dp[][] = new int[2501][101] = (2501 * 4 + 12) * 102 = 998Kb  temp[] = new int[101] = 101 * 4 + 12 = 416 bytes  List of lists (2501 * 16 + 16) * 101 = 3,9Mb  So we have ~5Mb(max value when you fill all list of lists) for data and 1Mb for JVM. That's all.  JVM by itself sets how much memory it will use. Here are some tips which may help you: How is the default java heap size determined?. You may try to decrease amount of used memory using flags like -Xmx, -Xms and so on.  On the link which you sent , some answers state that default heap size is 4 MB while others state its 1/64 of 1 GB or something. In the latter case , its impossible for me to get any java code accepted.!  What amount is set depends on many factors: jvm version, total physical memory amount etc. Try to run your app with some limits, for example: java -Xmx6m -Xms4m CateringContracts2pi. If you encounter out of memory error, increase the values  By clicking “Accept all cookies”, you agree Stack Exchange can store cookies on your device and disclose information in accordance with our Cookie Policy.  