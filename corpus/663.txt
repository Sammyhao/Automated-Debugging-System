 your communities  Find centralized, trusted content and collaborate around the technologies you use most.  Connect and share knowledge within a single location that is structured and easy to search.  "Say you have an array for which the ith element is the price of a given stock on day i.  If you were only permitted to complete at most one transaction (ie, buy one and sell one share of the stock), design an algorithm to find the maximum profit."  Here is my solution.  I'm not sure if it work, which is not a problem now. The problem is, it always shows Runtime Error at Line 9: and Line 18:  So what's wrong with it? How to fix it? Thank you so much.  Can you show us full code ? Where you are calling method ? It seems the array is empty.  mybe your array has no elements. Can you check if prices.lengh is greater or equals 1?  The problem is that you pass into the method - make sure to initialize before you pass it to the method.  i simply call with new Solution().maxProfit(new int[10]); and did not get any error ... can you post your exception stack trace ? and also how u called this method.  6 Answers 6  The only reason prices[0] would throw an AIOOBE is because the doesn't have any prices in it.  Check if you are not passing a zero length array to your maxProfit method and be sure to initialize the array before using it in your method.  Thrown to indicate that an array has been accessed with an illegal index. The index is either negative or greater than or equal to the size of the array.  The array you passing to this method is empty. That is no elements in that array. The part  equal to the size of the array. (size is 0 and index is zero)  You're getting an exception probably because the array was not instantiated correctly.  Also, your algorithm is not guaranteed to be correct: consider the following set of prices,  $4, $5, $1, $3  The maximum profit made would be 2 dollars, but your algorithm would result in $1.  Make sure the array prices[] is created and also initialized. If it is created like int[] prices = new int[] {}; you will see an error saying index out of bound. Make sure you initialize (from user input or using hard coded values). If it is from user input make sure that the values are assigned.  When prices.lenght = 0, prices[] is null at line 9 and 18. That's why you got errors.  By clicking “Accept all cookies”, you agree Stack Exchange can store cookies on your device and disclose information in accordance with our Cookie Policy.  