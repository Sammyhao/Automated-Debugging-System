 Count of distinct differences between two maximum elements of every Subarray  Last Updated : 29 Dec, 2021  Given an array arr[] of size N. The task is to count the number of unique differences between the two maximum elements of every subarray of size at least 2 of the given array.  Examples:  Input: arr[] = { 5, 1, 3 }, N = 3 Output: 2 Explanation: The subarrays are {5, 1}, {5, 1, 3}, {1, 3}. {5, 1} – First max = 5; Second max = 1; difference = (5 – 1) = 4 {5, 1, 3} – First max = 5; Second max = 3; difference = (5 – 3) = 2 {1, 3} – First max = 3; Second max = 1; difference = (3 – 1) = 2 Unique height differences are {4, 2} = 2  Input: arr[] = {5, 2, 3, 8}, N = 4 Output: 4 Explanation: The subarrays are: {5, 2}, {5, 2, 3}, {5, 2, 3, 8}, {2, 3}, {2, 3, 8}, {3, 8} {5, 2} – First max = 5; Second max = 2; difference = (5 – 2) = 3 {5, 2, 3} – First max = 5; Second max = 3; difference = (5 – 3) = 2 {5, 2, 3, 8} – First max = 8; Second max = 5; difference = (8 – 5) = 3 {2, 3} – First max = 3; Second max = 2; difference = (3 – 2) = 1 {2, 3, 8} – First max = 8; Second max = 3; difference = (8 – 3) = 5 {3,8} – First max = 8; Second max = 3; difference = (8 – 3) = 5 Unique height differences are {3, 2, 1, 5} = 4  Approach: The problem can be solved in basis of the following observation. Only the first and the second maximum are required for each subarray. When one other maximum element comes in the subarray the maximum values need to be updated. The concept of stack is used to implement this observation. Follow the steps below to solve this problem.  Store the next greater element to the left and next greater element to the right of every array element in two arrays.  Find the difference between next greater element to left and original element at that index ,and difference between next greater element to right and original element at that index and store in a set which contains unique values.  Print the size of the set  Below is the implementation of the above approach.  Writing code in comment? Please use ide.geeksforgeeks.org, generate link and share the link here.  We use cookies to ensure you have the best browsing experience on our website. By using our site, you acknowledge that you have read and understood our Cookie Policy & Privacy Policy Got It !  