 Maximum count of pairs such that element at each index i is included in i pairs  Last Updated : 29 Dec, 2021  Given an array arr[] and an integer N, the task is to find the maximum number of pairs that can be formed such that ith index is included in almost arr[i] pairs.  Examples:  Input: arr[] = {2, 2, 3, 4} Output: 5 1 3 2 4 2 4 3 4 3 4 Explaination: For the given array, a maximum of 5 pairs can be created where 1st index is included in 1 pair, 2nd index in 2 pairs, 3rd index in 3 pairs and 4th index in 4 pairs as shown above.  Approach: The given problem can be solved using a greedy approach. It can be observed that the most optimal choice at every step is to choose the elements with the maximum value and create their respective pair. Using this observation, follow the below steps to solve this problem:  Create a Max Priority Queue which stores the indices of the given array in decreasing order of their respective array value.  Create a loop to iterate the priority queue until there are more than two elements in it and follow the below steps:  Select the top two indices at the priority queue, append their pair into an answer array.  Reinsert them into the priority queue after decrementing their respective array values if their values are greater than 0.  Print all the pairs in the answer array.  Below is the implementation of the above approach:  Java  Output  Time Complexity: O(M*log M), where M denotes the sum of all array elements Auxiliary Space: O(N)  Writing code in comment? Please use ide.geeksforgeeks.org, generate link and share the link here.  We use cookies to ensure you have the best browsing experience on our website. By using our site, you acknowledge that you have read and understood our Cookie Policy & Privacy Policy Got It !  