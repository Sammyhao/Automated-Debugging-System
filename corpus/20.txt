 your communities  Find centralized, trusted content and collaborate around the technologies you use most.  Connect and share knowledge within a single location that is structured and easy to search.  I want to sort a 2*n matrix, n is given in the input. Make a program to output a matrix. Here is the requirement:  the first column MUST be sorted in ASC, and  the second column in DESC if possible.  For example, let n = 5, and the matrix is  The result should be  So I write down the code like this. First line input the value n, and the following lines like above.  But in gcc, the output is  What's more, when the first line is changed to "1 2" and the second is changed to "3 4" in input, the result also changed.  What's the problem of my code?  Additional information:  I use because I use a function that satisfy the requirement of this problem, so I can simply sort them. And stores the original index, because moving arrays may cost lots of time. So means the 'new' array's item . Note that v[0] is NOT used. n is less than 100000, not equal.  "But in gcc, the output is" Like if it was even possible to be a mistake of gcc... Shouldn't be tagged with gcc, but with C.  Anyway, it is wrong. You must compare the same array that you want to sort. If you use two different array, you are sorting array 2, with information in array 1, but array 1 is not updated during the sorting.  In he is just transforming two numbers into one (profit function?) and sorting based on that. What's wrong with that. seems to be properly constructed to maintain order he wants to sort in.  2 Answers 2  You are comparing values stored in , but swapping elements of . So when in the begginig you have:  After for e.g. swapping 2 with 3  you will have improper mapping between and .  So in another iteration you will again compare with and again you will have to swap elements of . That's why you should at least also swap elements of or index elements of z using elements of  Array index start with 0, so your for cicles must start from 0  : you want to sort but you are comparing and sorting . By sorting and comparing bubble sort cannot work. You must use the same array.  By clicking “Accept all cookies”, you agree Stack Exchange can store cookies on your device and disclose information in accordance with our Cookie Policy.  