 your communities  Find centralized, trusted content and collaborate around the technologies you use most.  Connect and share knowledge within a single location that is structured and easy to search.  I need a comparator for a TreeMap. Should I write this anonymously in the constructor for my TreeMap? How else could I write my comparator. Currently, Java does not like my code (can I do this anonymously?):  13.6k5050 gold badges128128 silver badges207207 bronze badges  1  The TreeMap comparator signature is on the key only. For example: ``` new Comparator<String>() { @Override public int compare(String a, String b) { return 0; } ```  3 Answers 3  A Red-Black tree based NavigableMap implementation. The map is sorted according to the natural ordering of its keys, or by a Comparator provided at map creation time, depending on which constructor is used You will need to provide for so your comparator should compare on keys.  To provide sort on values you will need SortedSet. Use  18.6k44 gold badges4343 silver badges6969 bronze badges  5  How do I add an element one at a time to myMap? myMap.add(Map.Entry<String, Double> new Map.Entry<String, Double>(vStr, cur));  @CodeKingPlusPlus No. you use put method only Check the example that is added. You put values to Map once your are done use SortedSet to sort values.  This works but it removes duplicate values. But i want to keep duplicate values in the list. Can anyone help me?  ..or "even you take elements and order them, when you put them back into a TreeMap, the order is still decided by the key comparator/natural order". Instead, you can insert the ordered entries into a to at least return an ordered map view of elements.  @PriyankaAlachiya Use an ArrayList instead of a set. Add the elements of the map to the list and pass in the comparator in Collections.sort(). Worked for me. Also I used technique when solving "Top K Frequent Elements" on leetcode  The comparator should be only for the key, not for the whole entry. It sorts the entries based on the keys.  You should change it to something as follows  Update  You can do something as follows (create a list of entries in the map and sort the list base on value, but note this not going to sort the map itself) -  49.2k2020 gold badges8888 silver badges140140 bronze badges  1  @CodeKingPlusPlus: You cannot sort the map itself based on values. But you can get list of entries and sort it. But then it might not make sense to have a TreeMap, unless you switch the key and value.  By clicking “Accept all cookies”, you agree Stack Exchange can store cookies on your device and disclose information in accordance with our Cookie Policy.  