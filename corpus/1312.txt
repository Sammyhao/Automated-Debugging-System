 your communities  Find centralized, trusted content and collaborate around the technologies you use most.  Connect and share knowledge within a single location that is structured and easy to search.  I have an ASP .Net core application. I am simply trying to have my AutoMapper configure to convert a string comma delimited into a list of strings as per this configuration:  For some reason it does not get compiled and give me the following error:  An expression tree may not contain a call or invocation that uses optional argument  I can't see why I am getting this error. I am pretty sure that I have done that in my other projects before without any such error.  That works for me. Try upgrading AM. A repro would help. Make a gist that we can execute and see fail.  4 Answers 4  As error says, Split function has an optional parameter. The full signature of it is as this (options is optional)  As you are trying to use a function with default value inside an expression tree, it gives you the error. To Fix it, easy, just pass on optional parameters by yourself. ( StringSplitOptions.None ) So, simply change it to this:  Hmm... Would be interesting to hear full story behind this - why this is needed anyway ? I guess main idea is to simplify C# language itself, but now it's taking backing turn of making things more complex. Is there any reason for this to exists ?  Error is raised because expression tree being created is about to contain some more complex logic, like , which is not an accessible property or method, only top-level reflected object properties and methods are supported (like in class ).  Property chaining, deep-calls (.obj1property.obj2property), extension methods are not supported by the expression trees, like in this call.  I had the same problem. I do not know if it is an issue or not. Anyway, I found a workaround.  It is guaranteed that has always a . Still, I'm confused. In my I define that allows null values for list.  By clicking “Accept all cookies”, you agree Stack Exchange can store cookies on your device and disclose information in accordance with our Cookie Policy.  